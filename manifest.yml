---
applications:
- name: exchange
  buildpack: https://github.com/boundlessgeo/geonode-python-buildpack
  command: null
  instances: 1
  memory: 1G
  disk_quota: 2G
  # env are applied to cf/settings.py
  env:
    # true = 1 and false = 0
    CF_ENABLED: 1
    SECRET_KEY: 'aadc-t8j*i5a7^y9@d^$at#g0!j_h=h++5stj=nb7z8u#l_y#&'
    CF_DEBUG: 1
    DATABASE_URL: 'postgres://exchange:CHANGEME@geoshape.geointservices.io:5432/exchange'
    POSTGIS_URL: 'postgis://exchange:CHANGEME@geoshape.geointservices.io:5432/exchange_data'
    GEONODE_ADMIN_PASSWORD: 'CHANGEME'
    GS_URL: 'http://geoshape.geointservices.io/geoserver/'
    GS_USER: 'admin'
    GS_PASSWORD: 'CHANGEME'
    ES_URL: 'http://geoshape.geointservices.io:9200/'
    ES_INDEX: 'exchange'
    RABBITMQ_URL: 'amqp://exchange:CHANGEME@geoshape.geointservices.io:5672'
    AWS_S3_CUSTOM_DOMAIN: ''
    AWS_STORAGE_BUCKET_NAME: 'boundless-cloudfoundry'
    AWS_ACCESS_KEY_ID: 'CHANGEME'
    AWS_SECRET_ACCESS_KEY: 'CHANGEME'
    AUTH_LDAP: 1
    AUTH_LDAP_SERVER_URI: 'ldaps://ldap.internal.geointservices.io:636'
    AUTH_LDAP_BIND_PASSWORD: 'CHANGEME'
    AUTH_LDAP_USER_DN_TEMPLATE: 'uid=%(user)s,cn=users,cn=accounts,dc=geointservices,dc=io'
    LDAP_SEARCH_DN: 'cn=users,cn=accounts,dc=geointservices,dc=io'
    AUTH_LDAP_USER: '(uid=%(user))'
    AUTH_LDAP_BIND_DN: 'uid=readonly,cn=sysaccounts,cn=etc,dc=geointservices,dc=io'